{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="../static/css/getusers.css">
{% endblock %}

{% block content %}
<div class="container-main">
    <div class="main__title">
        <h2 class="text">Если вы это видите - значит успешно авторизовались и это хорошо...</h2>
    </div>
    <div class="main__user">
        {% for user in users %}
        <form class="user" data-userid="{{user.id}}">
            <div class="user-email">
                <h2>{{user.email}}</h2>

            </div>
            <div class="tg-id">
                <div>{{user.telegram_id}}</div>
            </div>
            <div class="subscriptionGGP">
                <div class="title">Подписаться на GGP</div>
                <div class="tooltip-wrapper">
                    <span class="tooltip">
                        <button class="tooltip-toggle" type="button">
                            <div class="tooltip-icon">?</div>
                        </button>
                        <span class="tooltip-text">Какие-то очень важные пояснения для неочень сообразительных
                            посетителей сайта</span>
                    </span>
                </div>
                <label class="check-box">

                    <label class="checkbox-ios">
                        <input id="checkbox-iosGGP" type="checkbox" data-userid="{{user.id}}" class="checkbox">
                        <span class="checkbox-ios-switch"></span>
                    </label>

                    <!-- блок кода, который отправляет запрос на подписку
                        {% if user.sub_ggp %}
                        <input type="checkbox" checked>
                        {% else %}
                        <input type="checkbox">
                        {% endif %}
                        {{user.sub_ggp}}-->
                </label>
            </div>
            <div class="subscriptionPercent">
                <div class="title">Подписаться на проценты</div>
                <label class="check-box">

                    <label class="checkbox-ios">
                        <input type="checkbox" id="checkbox-iosPercent" data-userid="{{user.id}}">
                        <span class="checkbox-ios-switch"></span>
                    </label>
                    <!-- блок кода, который отправляет запрос на подписку
                        {% if user.sub_ggp_percent %}
                        <input type="checkbox" checked>
                        {% else %}
                        <input type="checkbox">
                        {% endif %}
                        {{user.sub_ggp_percent}}-->
                </label>
            </div>
            <div class="subscription-class">
                <div class="ggp-classes">
                    Подписаться на классы

                    <label class="checkbox-ios collapse">
                        <input type="checkbox">
                        <span class="checkbox-ios-switch"></span>
                    </label>

                </div>
                <!--<div class="classes-letter">
                    {% for sc in user.ggp_sub_classes %}
                    {{sc.sport_class}}
                    {% endfor %}
                </div>-->

                <div class="class-buttons" id="class-buttons">
                    {% for each in ["A", "B", "C1", "C2", "C3", "D1", "D2", "D3", "D4","N"] %}
                    <button id="{{user.id}}ggp{{each}}" class="button ggp-classes-sub {{each}}-class-button-submit"
                        type="button" data-userid="{{user.id}}">{{each}}</button>
                    {% endfor %}
                </div>
            </div>
            <!-- <div class="subscrStartEnd">
                {% if user.sub_ggp_percent %}
                
                {% else %}
                <div class="subscriptionStart">От: <input value="{{user.ggp_percent_begin}}" disabled></div>
                <div class="subscriptionEnd">До: <input value="{{user.ggp_percent_end}}" disabled></div>
                {% endif%}
            </div>-->

            <div class="subscriptionOffline">
                <div class="title">Подписаться на офлайн</div>
                <label class="check-box">

                    <label class="checkbox-ios">
                        <input type="checkbox" id="checkbox-iosOffline" data-userid="{{user.id}}">
                        <span class="checkbox-ios-switch"></span>
                    </label>

                    <!--{{user.sub_offline}}-->
                </label>
            </div>
            <div class="subscrStartEnd">
                {% if user.sub_ggp_percent %}
                <div class="subscriptionStart">От: <input value="{{user.ggp_percent_begin}}"></div>
                <div class="subscriptionEnd">До: <input value="{{user.ggp_percent_end}}"></div>
                {% else %}
                <div class="subscriptionStart">От: <input value="{{user.ggp_percent_begin}}" disabled></div>
                <div class="subscriptionEnd">До: <input value="{{user.ggp_percent_end}}" disabled></div>
                {% endif%}
            </div>

            <div class="regDate">Дата регистрации: {{user.registered_at.strftime("%d.%m.%Y|%H:%M:%S")}}</div>
            <div class="role">Роль: {{user.role_id}}</div>

            <button class="button btn" type="submit" data-path="exit" id="btn">Удалить
            </button>
            <div class="modals">
                <div class="modal-overlay">
                    <div class="modal" data-target="exit">
                        Are U sure, bitch?
                        <div class="yes-no-btns">
                            <input type="submit" name="submit" value="Yes" class="patch-button-delete delete-button-submit" data-userid="{{user.id}}">
                            <input type="submit" name="submit" value="No" class="patch-button-delete">
                        </div>
                    </div>
                </div>
            </div>
            <!-- кнопка сохранить изменения
                <button class="button patch-button-submit" type="submit" data-userid="{{user.id}}">Сохранить
                    изменения</button>  -->
        </form>
    {% endfor %}


    </div>
    <!--<button class="btn" data-path="exit">exit</button>-->


</div>
{% endblock %}

<script src="/static/js/getusers.js"></script>